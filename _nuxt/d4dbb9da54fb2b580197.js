(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{309:function(t,e,a){"use strict";var r=function(){var t=this.$createElement;return(this._self._c||t)("canvas",{style:this.$store.state.isDarkTheme?"background-color: white;":"",attrs:{id:this.id}})};r._withStripped=!0;var o=a(368),i=a.n(o),s=a(3),n={name:"GraphCanvas",props:{gtype:{type:String,required:!0},id:{type:String,required:!0},labels:{type:Array,required:!0},datasets:{type:Array,required:!0},goptions:{type:Object,default:function(){}}},watch:{labels:{handler:function(t){this.$data.chart.destroy(),this.$data.chart_data.labels=t,this.updateCanvas()},deep:!0},datasets:{handler:function(t){this.$data.chart.destroy(),this.$data.chart_data.datasets=t,this.updateCanvas()},deep:!0}},data:function(){return{type:this.$props.gtype,chart_data:{labels:this.$props.labels,datasets:this.$props.datasets},options:this.$props.goptions}},methods:{updateCanvas:function(){var t=document.getElementById(this.$props.id).getContext("2d");document.chart=this.$data.chart=new i.a(t,{type:this.$data.type,data:this.$data.chart_data,options:this.$data.options})}},mounted:function(){this.updateCanvas();var t=this;document.getElementById(this.$props.id).onclick=function(e){setTimeout(function(){for(var a=e.layerX,r=e.layerY,o=JSON.parse(JSON.stringify(document.chart.legend.legendHitBoxes)),i=0;i<o.length;i++)s.a.inRange(a,o[i].left,o[i].left+o[i].width)&&s.a.inRange(r,o[i].top,o[i].top+o[i].height)&&t.$emit("switchVisibility",i)},50)}}},l=a(12),c=Object(l.a)(n,r,[],!1,null,null,null);c.options.__file="GraphCanvas.vue";e.a=c.exports},313:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.label))]),a("div",{staticClass:"control"},[a("div",{staticClass:"buttons has-addons"},[a("span",{ref:"button-yes",staticClass:"button button-yes",class:{"is-success is-selected":t.newValue,"is-dark-light is-outlined":!t.newValue&&this.$store.state.isDarkTheme},on:{click:function(e){t.newValue=!0}}},[t._m(0),a("span",[t._v(t._s(t.$t("utils.Yes")))])]),a("span",{ref:"button-no",staticClass:"button button-no",class:{"is-danger is-selected":!t.newValue,"is-dark-light is-outlined":t.newValue&&this.$store.state.isDarkTheme},on:{click:function(e){t.newValue=!1}}},[t._m(1),a("span",[t._v(t._s(t.$t("utils.No")))])])])])])};r._withStripped=!0;var o={name:"YesNo",props:{value:{type:Boolean,required:!0},label:String},data:function(){return{newValue:this.value}},watch:{value:function(t){this.newValue=t},newValue:function(t){this.$emit("input",t)}}},i=a(12),s=Object(i.a)(o,r,[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-check"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-times"})])}],!1,null,null,null);s.options.__file="YesNo.vue";e.a=s.exports},327:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"field is-half"},[a("h3",{staticClass:"title is-3"},[t._v(t._s(t.$t(t.i18nPrefix+"title")))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.canPermalink,expression:"canPermalink"}],staticClass:"column is-half"},[a("div",{staticClass:"field"},[a("nuxt-link",{staticClass:"level-right",attrs:{id:"permalink",to:t.permaLink,exact:""}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-link"})]),t._v("Â "+t._s(t.$t("utils.permalink")))])],1)])]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"field"},[a("p",[t._v(t._s(t.$t(t.i18nPrefix+"p1")))])])])]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("div",{staticClass:"field"},[a("gb-list-select",{attrs:{current:t.gb.key},on:{change:function(e){t.changeGb(e)}}})],1)])]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("b-field",{attrs:{label:t.$t("utils.From"),"label-for":"previsionFrom",type:t.haveError("from")}},[a("b-input",{attrs:{id:"previsionFrom",type:"number",min:"0",max:t.to-1,name:"previsionFrom",autocomplete:"off"},model:{value:t.fromInput,callback:function(e){t.fromInput=t._n(e)},expression:"fromInput"}})],1)],1),a("div",{staticClass:"column is-half"},[a("b-field",{attrs:{label:t.$t("utils.To",{max:t.maxLevel}),"label-for":"previsionTo",type:t.haveError("to")}},[a("b-input",{attrs:{id:"previsionTo",type:"number",min:t.from,max:t.maxLevel,name:"previsionTo",autocomplete:"off"},model:{value:t.to,callback:function(e){t.to=t._n(e)},expression:"to"}})],1)],1)]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"custom_percentage")},model:{value:t.customPercentage,callback:function(e){t.customPercentage=e},expression:"customPercentage"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.customPercentage,expression:"!customPercentage"}],staticClass:"column is-half"},[a("b-field",{attrs:{label:t.$t("components.gb_investment.gb_investment.form.investor_percentage"),"label-for":"previsionInvestorPercentageGlobal",type:t.haveError("investorPercentageGlobal")}},[a("b-input",{attrs:{id:"previsionInvestorPercentageGlobal",type:"number",min:"0",step:"0.1",name:"investorPercentageGlobal",autocomplete:"off"},model:{value:t.investorPercentageGlobal,callback:function(e){t.investorPercentageGlobal=t._n(e)},expression:"investorPercentageGlobal"}})],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.customPercentage,expression:"customPercentage"}],staticClass:"table-wrapper"},[a("table",{staticClass:"table is-bordered is-striped is-narrow is-fullwidth"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("components.gb_investment.gb_investment.table.thead.th1")))]),a("th",[t._v(t._s(t.$t("components.gb_investment.gb_investment.table.thead.th5")))])])]),a("tbody",t._l(5,function(e){return a("tr",[a("td",{staticClass:"has-text-right"},[t._v(t._s(e))]),a("td",[a("b-field",{attrs:{type:t.haveError("investorPercentageCustom_"+e)}},[a("b-input",{attrs:{type:"number",min:"0",step:"0.1",name:"investorPercentageCustom_"+e,autocomplete:"off"},model:{value:t.investorPercentageCustom[e-1],callback:function(a){t.$set(t.investorPercentageCustom,e-1,t._n(a))},expression:"investorPercentageCustom[i - 1]"}})],1)],1)])}))])]),null!==t.previsionResult?a("div",[t.from===t.to?a("p",[t._v(t._s(t.$t(t.i18nPrefix+"message.single",{level:t.from,preparation:t.previsionResult.global.totalPreparations,gb:"foe_data.gb."+t.gb.key,cost:t.previsionResult.global.cost})))]):a("p",[t._v(t._s(t.$t(t.i18nPrefix+"message.multi",{from:t.from,to:t.to,preparation:t.previsionResult.global.totalPreparations,gb:"foe_data.gb."+t.gb.key,cost:t.previsionResult.global.cost})))]),t.previsionDefault.global.totalPreparations!==t.previsionResult.global.totalPreparations?a("p",[t._v(t._s(t.$t(t.i18nPrefix+"message.diff",{count:t.previsionDefault.global.totalPreparations-t.previsionResult.global.totalPreparations})))]):t._e()]):t._e(),a("h4",{staticClass:"margin-top-one-em"},[t._v(t._s(t.$t(t.i18nPrefix+"estimated_time")))]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("b-field",{attrs:{label:t.$t("components.cf_calculator.block_cfc.fp_by_24h"),"label-for":"previsionFpBy24h",type:t.haveError("fpBy24h")}},[a("b-input",{attrs:{id:"previsionFpBy24h",type:"number",min:"0",name:"previsionFpBy24h",autocomplete:"off"},model:{value:t.fpBy24h,callback:function(e){t.fpBy24h=t._n(e)},expression:"fpBy24h"}})],1)],1),a("div",{staticClass:"column is-half"},[a("b-field",{attrs:{label:t.$t(t.i18nPrefix+"prop_already_invested"),"label-for":"previsionAlreadyInvested",type:t.haveError("alreadyInvested")}},[a("b-input",{attrs:{id:"previsionAlreadyInvested",type:"number",min:"0",max:t.maxCurrentLevel,name:"previsionAlreadyInvested",autocomplete:"off"},model:{value:t.alreadyInvested,callback:function(e){t.alreadyInvested=t._n(e)},expression:"alreadyInvested"}})],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.previsionResult&&t.fpBy24h>0,expression:"(previsionResult !== null) && (fpBy24h > 0)"}]},[a("p",[t._v(t._s(t.$t(t.i18nPrefix+"message.estimated_time",{time:t.estimatedTime})))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.from!==t.to,expression:"from !== to"}]},[a("graph-canvas",{directives:[{name:"show",rawName:"v-show",value:t.from<t.to,expression:"from < to"}],staticClass:"margin-top-one-em",attrs:{gtype:"line",id:"graph",goptions:t.options,labels:t.labels,datasets:t.datasets}})],1)])};r._withStripped=!0;a(40),a(78),a(361),a(26),a(59);var o,i=a(1),s=a(3),n=a(354),l=a(367),c=a(330),u=a(309),p=a(313),h="components.gb_forecast_cost.",m=0,d=0,v={gb:"gbfc_gb",from:"gbfc_f",to:"gbfc_t",investorPercentageGlobal:"gbfc_ipg",investorPercentageCustom:"gbfc_p",cp:"gbfc_cp",fpBy24h:"gbfc_fp",alreadyInvested:"gbfc_ai"},f={from:{comparator:[">=",1],type:"int"},to:{comparator:[">=",1],type:"int"},investorPercentageGlobal:{comparator:[">=",0],type:"float"},investorPercentageCustom:{comparator:[">=",0],type:"float"},fpBy24h:{comparator:[">=",0]},alreadyInvested:{comparator:[">=",0]}},g=JSON.parse(JSON.stringify(n.gbsData[Object.keys(n.gbsData)[0]])),b={name:"GbForecastCost",props:{canPermalink:{type:Boolean,default:!1}},data:function(){this.$moment.locale(this.$store.state.locale);var t={i18nPrefix:h,labels:[],datasets:[],options:{responsive:!0,title:{display:!0,text:this.$t(h+"graph.title",{gb:"foe_data.gb."+g.key})},tooltips:{mode:"index",intersect:!1},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.$t(h+"graph.x_axes_label")},ticks:{suggestedMin:1,suggestedMax:10}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.$t(h+"graph.y_axes_label")}}]}},gb:g,maxLevel:g.levels.length,from:1,to:10,investorPercentageGlobal:0,investorPercentageCustom:Array.from(new Array(5),function(){return 0}),customPercentage:!1,fpBy24h:0,alreadyInvested:0,estimatedTime:"",errors:{from:!1,to:!1,percentageValueGlobal:!1,alreadyInvested:!1,investorPercentageCustom_0:!1,investorPercentageCustom_1:!1,investorPercentageCustom_2:!1,investorPercentageCustom_3:!1,investorPercentageCustom_4:!1},previsionResult:null,previsionDefault:l.a.ComputeLevelInvestmentRange(1,10,Array.from(new Array(5),function(){return 0}),g.levels)};Object.assign(t,this.checkQuery(t)),this.$store.commit("ADD_URL_QUERY",{key:v.gb,value:t.gb.key}),this.$store.commit("ADD_URL_QUERY",{key:v.from,value:t.from}),this.$store.commit("ADD_URL_QUERY",{key:v.to,value:t.to}),this.$store.commit("ADD_URL_QUERY",{key:v.investorPercentageGlobal,value:t.investorPercentageGlobal}),this.$store.commit("ADD_URL_QUERY",{key:v.cp,value:t.customPercentage?1:0}),this.$store.commit("ADD_URL_QUERY",{key:v.fpBy24h,value:t.fpBy24h}),this.$store.commit("ADD_URL_QUERY",{key:v.alreadyInvested,value:t.alreadyInvested});for(var e=0;e<5;e++)this.$store.commit("ADD_URL_QUERY",{key:v.investorPercentageCustom+(e+1),value:t.investorPercentageCustom[e]});return o=JSON.parse(JSON.stringify(t.investorPercentageCustom)),t},computed:{fromInput:{get:function(){return this.normalizedFrom()-1},set:function(t){this.checkFrom(t+1),d=t+1}},lang:function(){return this.$store.state.locale},permaLink:function(){return{path:this.$i18nPath("gb-forecast-cost/"),query:this.$store.state.urlQuery}},maxCurrentLevel:function(){return s.a.inRange(this.normalizedFrom(),1,this.$data.gb.levels.length)?this.$data.gb.levels[this.normalizedFrom()].cost:m},duration:function(){if(this.$data.fpBy24h>0){var t=Math.ceil((this.$data.previsionResult.global.totalPreparations-this.$data.alreadyInvested)/this.$data.fpBy24h);return t<0?0:t}return 0}},watch:{lang:function(){if(this.$moment.locale(this.$store.state.locale),this.$data.fpBy24h>0){var t=Math.ceil(this.$data.previsionResult.global.totalPreparations/this.$data.fpBy24h);this.$data.estimatedTime=s.a.getFormatedDuration(this.$moment.duration(t,"days"),this.$i18next)}this.updatePrevisionGraph()},gb:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:v.gb,value:t.key})},from:function(t,e){t&&"number"!=typeof t&&t.length>0?this.$data.errors.from=!0:s.a.handlerForm(this,"from",t&&0!==t.length?t:1,e,[1,this.normalizedTo()])===s.a.FormCheck.VALID&&(m=t,this.$store.commit("UPDATE_URL_QUERY",{key:v.from,value:t}),this.calculate())},to:function(t,e){t&&"number"!=typeof t&&t.length>0?this.$data.errors.to=!0:s.a.handlerForm(this,"to",t&&0!==t.length?t:0,e,[this.normalizedFrom(),this.$data.maxLevel])===s.a.FormCheck.VALID&&(this.$data.errors.from?this.checkFrom(d)&&(this.$store.commit("UPDATE_URL_QUERY",{key:v.to,value:t}),this.$data.errors.from=!1,this.calculate()):(this.$store.commit("UPDATE_URL_QUERY",{key:v.to,value:t}),this.calculate()))},investorPercentageGlobal:function(t,e){if(!(t&&"number"!=typeof t&&t.length>0)&&s.a.handlerForm(this,"investorPercentageGlobal",t&&0!==t.length?t:0,e,[">=",0],!1,this.$route.params.gb+"_investorPercentageGlobal","float")===s.a.FormCheck.VALID){this.$store.commit("UPDATE_URL_QUERY",{key:v.investorPercentageGlobal,value:t});for(var a=0;a<this.$data.investorPercentageCustom.length;a++)this.$store.commit("UPDATE_URL_QUERY",{key:v.investorPercentageCustom+(a+1),value:t}),this.$data.investorPercentageCustom[a]=t;this.calculate()}},investorPercentageCustom:function(t){for(var e=s.a.FormCheck.VALID,a=0;a<t.length;a++){if("number"!=typeof t[a])return;s.a.handlerForm(this,"investorPercentageCustom_"+a,0===t[a].length?0:t[a],o[a],[">=",0],!1,this.$route.params.gb+"_investorPercentageCustom_"+a,"float")===s.a.FormCheck.INVALID&&(e=s.a.FormCheck.INVALID)}if(e===s.a.FormCheck.VALID){o=JSON.parse(JSON.stringify(t));for(var r=0;r<t.length;r++)this.$store.commit("UPDATE_URL_QUERY",{key:v.investorPercentageCustom+(r+1),value:t[r]});this.calculate()}},customPercentage:function(t){this.$store.commit("UPDATE_URL_QUERY",{key:v.cp,value:t?1:0});for(var e=0;e<5;e++)this.$data.investorPercentageCustom[e]=s.a.normalizeNumberValue(this.$data.investorPercentageGlobal),this.$store.commit("UPDATE_URL_QUERY",{key:v.investorPercentageCustom+(e+1),value:s.a.normalizeNumberValue(this.$data.investorPercentageGlobal)})},fpBy24h:function(t){t>0&&null!==this.$data.previsionResult?(this.$store.commit("UPDATE_URL_QUERY",{key:v.fpBy24h,value:t}),this.$data.duration=Math.ceil((this.$data.previsionResult.global.totalPreparations-this.$data.alreadyInvested)/t),this.$data.estimatedTime=s.a.getFormatedDuration(this.$moment.duration(this.$data.duration,"days"),this.$i18next)):(this.$store.commit("UPDATE_URL_QUERY",{key:v.fpBy24h,value:0}),this.$data.estimatedTime="")},alreadyInvested:function(t,e){s.a.handlerForm(this,"alreadyInvested",0===t.length?0:t,e,[0,this.maxCurrentLevel])===s.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:v.alreadyInvested,value:t}),this.$data.duration=Math.ceil((this.$data.previsionResult.global.totalPreparations-this.$data.alreadyInvested)/this.$data.fpBy24h),this.$data.estimatedTime=s.a.getFormatedDuration(this.$moment.duration(this.$data.duration,"days"),this.$i18next))}},methods:{normalizedFrom:function(){return s.a.normalizeNumberValue(this.$data.from,1)},normalizedTo:function(){return s.a.normalizeNumberValue(this.$data.to,1)},checkFrom:function(t){return 0===t.length?(i.default.set(this.$data.errors,"from",!0),!1):s.a.handlerForm(this,"from",t,this.normalizedFrom(),[1,this.normalizedTo()])===s.a.FormCheck.VALID&&(i.default.set(this.$data.errors,"from",!1),i.default.set(this.$data,"from",t),!0)},changeGb:function(t){this.$data.gb=JSON.parse(JSON.stringify(n.gbsData[t])),this.$data.maxLevel=this.$data.gb.levels.length,this.$data.from=this.normalizedFrom()>this.$data.maxLevel?1:this.normalizedFrom(),this.$data.to=this.normalizedTo()>this.$data.maxLevel?this.$data.maxLevel:this.normalizedTo(),this.calculate()},updatePrevisionGraph:function(){var t=this,e=[],a=Array.from(new Array(this.normalizedTo()-this.normalizedFrom()+1),function(e,a){return a+t.normalizedFrom()}),r="rgb(255, 159, 64)",o="rgb(54, 162, 235)",i="rgb(153, 102, 255)",n={red:"rgba(255, 99, 132, 0.1)",orange:"rgba(255, 159, 64, 0.1)",yellow:"rgba(255, 205, 86, 0.1)",green:"rgba(75, 192, 192, 0.1)",blue:"rgba(54, 162, 235, 0.1)",purple:"rgba(153, 102, 255, 0.1)",grey:"rgba(201, 203, 207, 0.1)"},l=[{label:this.$t(h+"graph.label.default"),data:this.$data.previsionDefault.levels.map(function(t){return t.cost}),color:r,color_alpha:n.orange},{label:this.$t(h+"graph.label.default_preparation"),data:this.$data.previsionDefault.levels.map(function(t){return t.totalPreparations}),color:o,color_alpha:n.blue}];null!==this.$data.previsionResult&&this.$data.previsionResult.global.totalPreparations!==this.$data.previsionDefault.global.totalPreparations&&l.push({label:this.$t(h+"graph.label.custom_preparation"),data:this.$data.previsionResult.levels.map(function(t){return t.totalPreparations}),color:i,color_alpha:n.purple});for(var c=0;c<l.length;c++){var u=l[c];e.push({label:u.label,fill:"start",lineTension:0,backgroundColor:u.color_alpha,borderColor:u.color,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:s.a.shadeRGBColor(u.color,-.3),pointBackgroundColor:s.a.shadeRGBColor(u.color,.3),pointBorderWidth:3,pointHoverRadius:4,pointRadius:1,pointHitRadius:10,data:u.data})}this.$data.datasets=e,this.$data.labels=a,this.$data.options.title.text=this.$t(h+"graph.title",{gb:"foe_data.gb."+this.$data.gb.key}),this.$data.options.scales.xAxes[0].scaleLabel.labelString=this.$t(h+"graph.x_axes_label"),this.$data.options.scales.xAxes[0].ticks.suggestedMin=this.normalizedFrom(),this.$data.options.scales.xAxes[0].ticks.suggestedMax=this.normalizedTo(),this.$data.options.scales.yAxes[0].scaleLabel.labelString=this.$t(h+"graph.y_axes_label")},calculate:function(){if(this.$data.previsionDefault=l.a.ComputeLevelInvestmentRange(this.normalizedFrom(),this.normalizedTo(),[0,0,0,0,0],this.$data.gb.levels),this.$data.previsionResult=l.a.ComputeLevelInvestmentRange(this.normalizedFrom(),this.normalizedTo(),this.$data.investorPercentageCustom.map(function(t){return t&&0!==t.length&&"number"==typeof t?t:0}),this.$data.gb.levels),this.$data.fpBy24h>0){var t=Math.ceil(this.$data.previsionResult.global.totalPreparations/this.$data.fpBy24h);this.$data.estimatedTime=s.a.getFormatedDuration(this.$moment.duration(t,"days"),this.$i18next)}this.updatePrevisionGraph()},checkQuery:function(t){var e,a=["from","to","investorPercentageCustom"],r={},o=s.a.FormCheck.NO_CHANGE,i=Array.apply(null,Array(5)).map(function(){return 0}),l=t.from,c=t.to,u=0,p=t.customPercentage;for(var h in this.$route.query[v.gb]&&this.$route.query[v.gb]in n.gbsData&&(o=s.a.FormCheck.VALID,r.gb=JSON.parse(JSON.stringify(n.gbsData[this.$route.query[v.gb]]))),f)h in a||(e=s.a.checkFormNumeric(this.$route.query[v[h]],-1,f[h].comparator,f[h].type)).state===s.a.FormCheck.VALID&&(o=s.a.FormCheck.VALID,r[h]=e.value,"investorPercentageGlobal"===h&&(i=Array.apply(null,Array(5)).map(function(){return e.value})));if(this.$route.query[v.from]&&!isNaN(this.$route.query[v.from])&&parseInt(this.$route.query[v.from])>=1&&(u++,l=parseInt(this.$route.query[v.from])),this.$route.query[v.to]&&!isNaN(this.$route.query[v.to])&&parseInt(this.$route.query[v.to])>=1&&(u++,c=parseInt(this.$route.query[v.to])),u>0&&l<=c&&(o=s.a.FormCheck.VALID,r.from=l,r.to=c),this.$route.query[v.cp]&&!isNaN(this.$route.query[v.cp])&&parseInt(this.$route.query[v.cp])>=0&&(o=s.a.FormCheck.VALID,r.customPercentage=1===parseInt(this.$route.query[v.cp]),p=r.customPercentage),p)for(var m=0;m<5;m++)(e=s.a.checkFormNumeric(this.$route.query[v.investorPercentageCustom+(m+1)],-1,f.investorPercentageCustom.comparator,f.investorPercentageCustom.type)).state===s.a.FormCheck.VALID&&(o=s.a.FormCheck.VALID,i[m]=e.value);return o===s.a.FormCheck.VALID&&(this.$store.commit("IS_PERMALINK",!0),r.investorPercentageCustom=i),r},haveError:function(t){return this.$data.errors[t]?"is-danger":""}},mounted:function(){this.calculate()},components:{gbListSelect:c.a,graphCanvas:u.a,YesNo:p.a}},y=a(12),$=Object(y.a)(b,r,[],!1,null,null,null);$.options.__file="GbForecastCost.vue";e.a=$.exports},330:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label"),"label-for":t.id}},[a("b-select",{attrs:{id:t.id,name:t.id,expanded:""},model:{value:t.gbList,callback:function(e){t.gbList=e},expression:"gbList"}},t._l(t.foeGBList,function(e,r){return a("optgroup",{attrs:{label:t.$t("foe_data.age."+e.key)}},t._l(e.gbs,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(t.$t("foe_data.gb."+e)))])}))}))],1)};r._withStripped=!0;var o=a(354),i={name:"GbListSelect",props:{current:{type:String,required:!0}},data:function(){return{i18nPrefix:"components.gb_investment.gb_list_select.",foeGBList:o.gbList,gbList:this.$props.current,id:"gbList"+this._uid}},watch:{gbList:function(t){t in o.gbs&&this.$emit("change",t)}}},s=a(12),n=Object(s.a)(i,r,[],!1,null,null,null);n.options.__file="GbListSelect.vue";e.a=n.exports},367:function(t,e,a){"use strict";a(26);var r=a(4),o=a.n(r),i=a(3),s=a(5);function n(t,e,a){if("number"!=typeof a)throw s.a.InvalidTypeError("number",o()(a),'for parameter "'.concat(t,'" of ').concat(e));if(a<0)throw s.a.BoundExceededError(s.a.AvailableBoundTypes["<"],a,0,'for parameter "'.concat(t,'" of ').concat(e))}function l(t,e,a){if(!(a instanceof Array))throw s.a.InvalidTypeError("Array",o()(a),'for parameter "'.concat(t,'" of ').concat(e));a.forEach(function(a,r){n("".concat(t,"[").concat(r,"]"),e,a)})}function c(t,e,a){if(!(a instanceof Array))throw s.a.InvalidTypeError("Array",o()(a),'for parameter "'.concat(t,'" of ').concat(e));a.forEach(function(a,r){if(!("cost"in a))throw s.a.KeyNotFoundError("cost","".concat(t,"[").concat(r,"]"),'in "checkGbData" called by '.concat(e));if(!("reward"in a))throw s.a.KeyNotFoundError("reward","".concat(t,"[").concat(r,"]"),'in "checkGbData" called by '.concat(e));n("".concat(t,"[").concat(r,"].cost"),e,a.cost),l("".concat(t,"[").concat(r,"].reward"),e,a.reward)})}function u(t,e,a,r,o,i){var s=Math.ceil((t-e-(r-a))/2)+r;if(s<=r)return{fp:-1,roi:0};var n=0;if(o>=0&&i>0){var l=s>a?s:a,c=(100+o)/100;n=Math.round(c*i-l)}else 0===i&&(n=-s);return{fp:s,roi:n}}function p(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s={};s.cost=t[e-1].cost,s.investment=[],s.otherInvestment=[];for(var n=r.reduce(function(t,e){return t+e},0),l=o+n,c=JSON.parse(JSON.stringify(r)),p=!1,h=0,m=0,d=o+n,v=o+n,f=o,g=0;g<t[e-1].reward.length&&!p;g++){var b={reward:t[e-1].reward[g],expectedParticipation:Math.round(t[e-1].reward[g]*(1+a[g]/100)),isInvestorParticipation:!1,roi:0,snipe:{fp:0,roi:0}},y=0,$=f;c.length>1&&(y=c[0]);var _=u(s.cost,v,y,0,a[g],b.reward),P=u(s.cost,d,y,0,a[g],b.reward);if(c[0]>=b.expectedParticipation||c[0]>=_.fp||c[0]>=P.fp)b.participation=c[0],b.isInvestorParticipation=!0,b.roi=b.expectedParticipation-c[0],c.shift();else{var C=b.expectedParticipation,k=h+c.reduce(function(t,e){return t+e},0)+Math.max(m,C);b.participation=b.expectedParticipation,k>=s.cost&&(b.participation+=s.cost-k)}var x=0;c.length&&(x=c[0]),$=Math.max(0,s.cost-(h+x+2*b.participation));var w=b.isInvestorParticipation?b.participation:0;b.snipe=u(s.cost,l,0,w,i,b.reward),0!==b.participation?($<f&&($=f),b.preparation=$,f=$,v=(h+=b.participation)+(m=Math.max(m,b.preparation))+c.reduce(function(t,e){return t+e},0),d+=m,b.cumulativeInvestment=v,s.investment.push(b),!p&&v>=s.cost&&(p=!0)):p=!0}s.totalPreparations=Math.max(0,s.cost-h-c.reduce(function(t,e){return t+e},0)),s.level=e;for(var R=s.investment.length;R<t[e-1].reward.length;R++)s.investment.push({reward:t[e-1].reward[R],expectedParticipation:Math.round(t[e-1].reward[R]*(1+a[R]/100)),preparation:s.totalPreparations,isInvestorParticipation:!1,roi:0,snipe:{fp:0,roi:0}}),c.length&&(s.investment[s.investment.length-1].isInvestorParticipation=!0,s.investment[s.investment.length-1].roi=s.investment[s.investment.length-1].expectedParticipation-c[0],s.investment[s.investment.length-1].participation=c[0],c.shift());for(;c.length;)s.otherInvestment.push({reward:0,expectedParticipation:0,preparation:0,participation:c[0],isInvestorParticipation:!0,snipe:{fp:0,roi:0}}),c.shift();return s}e.a={ComputeLevelInvestmentRange:function(t,e,a,r){var o,n,u="ComputeLevelInvestmentRange(from, to, investorPercentage, gb)";if(c("gb",u,r),!i.a.inRange(t,1,r.length))throw s.a.NotInBoundsError(t,1,r.length,'for parameter "from" of '.concat(u));if(!i.a.inRange(e,1,r.length))throw s.a.NotInBoundsError(e,1,r.length,'for parameter "to" of '.concat(u));l("investorPercentage",u,a),t>e?(o=e,n=t):(o=t,n=e);for(var h={global:{cost:0,totalPreparations:0},levels:[]},m=o;m<=n;m++)h.levels.push(p(r,m,a)),h.global.cost+=h.levels[h.levels.length-1].cost,h.global.totalPreparations+=h.levels[h.levels.length-1].totalPreparations;return h},ComputeSecurePlace:function(t,e,a,r,o,i){var s="ComputeSecurePlace(levelCost, currentDeposits, yourParticipation, otherParticipation, yourArcBonus, fpTargetReward)";return n("levelCost",s,t),n("currentDeposits",s,e),n("yourParticipation",s,a),n("otherParticipation",s,r),n("yourArcBonus",s,o),n("fpTargetReward",s,i),u(t,e,a,r,o,i)},ComputeLevelInvestment:function(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,h="ComputeLevelInvestment(levelCost, currentDeposits, yourParticipation, otherParticipation, yourArcBonus, fpTargetReward)";if(c("gb",h,a),!i.a.inRange(t,1,a.length))throw s.a.NotInBoundsError(t,1,a.length,'for parameter "currentLevel" of '.concat(h));l("investorPercentage",h,e),n("ownerPreparation",h,o),l("defaultParticipation",h,r),n("yourArcBonus",h,u);var m=r.reduce(function(t,e){return t+e},0);if(m>a[t-1].cost)throw s.a.BoundExceededError(s.a.AvailableBoundTypes[">"],m,a[t-1].cost,'for the sum of values of parameter "defaultParticipation" of '.concat(h));if(o+m>a[t-1].cost)throw s.a.BoundExceededError(s.a.AvailableBoundTypes[">"],"participationSum + ownerPreparation",a[t-1].cost,'for parameters "participationSum" and "ownerPreparation" of '.concat(h));return p(a,t,e,r.sort(function(t,e){return e-t}),o,u)}}}}]);